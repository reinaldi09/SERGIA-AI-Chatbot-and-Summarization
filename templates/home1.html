<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile JKN Mockup V2</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/home1.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>

    <div class="screen active" id="homeScreen">
        <header class="header">
            <div style="display: flex; align-items: center;">
                <img src="{{ url_for('static', filename='images/logo_mobileJKN.jpg') }}" alt="MobileJKN Logo" style="height: 30px; margin-right: 10px;">
                <div class="logo">MobileJKN</div>
            </div>
            <div class="profile">
                <i class="fas fa-bell" style="font-size: 1.5em;"></i>
                <div class="avatar"></div>
                <form action="/logout" method="POST" style="display: inline;">
                    <button type="submit" style="background: none; border: none; color: white; font-size: 1.5em; cursor: pointer;"><i class="fas fa-sign-out-alt"></i></button>
                </form>
            </div>
        </header>
        
        <div class="antrean-card">
            <div class="card-image">
                <i class="fas fa-calendar-check" style="font-size: 2em; color: #00bcd4;"></i>
            </div>
            <div class="card-content">
                <h3>Antrean Online</h3>
                <p>Untuk kunjungan lebih efisien tanpa harus menunggu lama.</p>
                <button class="btn primary" onclick="showModal('antreanModal')">Ambil Antrean</button>
            </div>
        </div>
        
        <div class="main-menu">
            <div class="menu-item"><i class="fas fa-info-circle"></i><span>Info Program JKN</span></div>
            <div class="menu-item"><i class="fas fa-video"></i><span>TELEHEALTH</span></div>
            <div class="menu-item"><i class="fas fa-history"></i><span>Info Riwayat Pelayanan</span></div>
            <div class="menu-item"><i class="fas fa-running new"></i><span>Bugar</span></div>
            <div class="menu-item"><i class="fas fa-heartbeat new"></i><span>NEW Rehab (Cicilan)</span></div>
            <div class="menu-item"><i class="fas fa-user-plus"></i><span>Penambahan Peserta</span></div>
            <div class="menu-item"><i class="fas fa-users"></i><span>Info Peserta</span></div>
            <div class="menu-item"><i class="fas fa-exclamation-triangle sos"></i><span>SOS</span></div>
            <div class="menu-item"><i class="fas fa-map-marker-alt"></i><span>Info Lokasi Faskes</span></div>
            <div class="menu-item"><i class="fas fa-edit"></i><span>Perubahan Data Peserta</span></div>
            <div class="menu-item"><i class="fas fa-comments"></i><span>Pengaduan Layanan JKN</span></div>
            <div class="menu-item"><i class="fas fa-th"></i><span>Menu Lainnya</span></div>
        </div>
        
        <footer class="footer">
            <div class="footer-item active"><i class="fas fa-home"></i><span>Home</span></div>
            <div class="footer-item"><i class="fas fa-file-alt"></i><span>Berita</span></div>
            <div class="footer-item"><i class="fas fa-credit-card"></i><span>Kartu</span></div>
            <div class="footer-item"><i class="fas fa-question-circle"></i><span>FAQ</span></div>
            <div class="footer-item"><i class="fas fa-user-circle"></i><span>Profil</span></div>
        </footer>
    </div>

    <div class="screen" id="confirmationScreen">
        <header class="header confirmation-header">
            <i class="fas fa-arrow-left" onclick="showScreen('homeScreen')"></i>
            <h3>Pengambilan Antrean</h3>
        </header>

        <div class="content-padding">
            <p class="section-title">Lengkapi detail kunjungan Anda:</p>
            
            <div class="form-group">
                <label>Pilih Faskes:</label>
                <select id="faskesSelect">
                    <option>Faskes Terdaftar (Contoh) - Alamat: Jl. Contoh, Tel: 021-123456</option>
                    <option>Rumah Sakit A - Alamat: Jl. A No.1, Tel: 021-111111</option>
                    <option>Klinik B - Alamat: Jl. B No.2, Tel: 021-222222</option>
                    <option>Puskesmas C - Alamat: Jl. C No.3, Tel: 021-333333</option>
                </select>
            </div>

            <div class="form-group">
                <label>Pilih Tanggal Kunjungan:</label>
                <input type="date" id="dateInput" value="2025-11-20">
            </div>

            <div class="form-group">
                <label>Pilih Jenis Poli:</label>
                <select id="poliSelect">
                    <option>Poli Umum</option>
                    <option>Poli Anak</option>
                    <option>Poli Jantung</option>
                    <option>Poli Kandungan</option>
                    <option>Poli Mata</option>
                </select>
            </div>

            <div class="form-group">
                <label>Pilih Jadwal Tenaga Medis:</label>
                <select id="doctorSelect">
                    <option>Pilih poli terlebih dahulu</option>
                </select>
            </div>

            <div class="form-group">
                <label>Tujuan Pelayanan:</label>
                <textarea rows="2">Kunjungan Kontrol Rutin</textarea>
            </div>

            <button class="btn primary full-width" onclick="startAnamnesis()">Konfirmasi Antrean & Mulai Anamnesis</button>

            <!-- Chatbox Title -->
            <h3 style="text-align: center; margin-bottom: 10px; color: #333;">SERGIA Anamnesis Chatbot</h3>

            <!-- Chatbox Area -->
            <div id="chatbox" class="space-y-4 h-80 overflow-y-auto bg-white p-4 rounded-lg shadow-lg mb-4 hidden">
                <!-- Initial bot message -->
                <div class="col-start-1 col-end-8 p-3 rounded-lg">
                    <div class="flex flex-row items-center">
                        <div class="relative ml-3 text-sm bg-white py-2 px-4 shadow rounded-xl">
                            <div id="botInitialMessage">Halo, selamat datang di layanan chatbot kesehatan kami! Saya akan menanyakan beberapa pertanyaan terkait kesehatan Anda.</div>
                        </div>
                    </div>
                </div>
            </div> <!-- End of chatbox -->
        
            <!-- Input and Button Section -->
            <div class="flex items-center space-x-2 mb-4 hidden" id="inputSection">
                <input
                    type="text"
                    id="userInput"
                    placeholder="Type your message..."
                    class="w-full p-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300"
                />
                <button id="micButton" onclick="startSpeechToText()" class="bg-gray-200 p-2 rounded-full hover:bg-gray-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-600" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 14a3 3 0 003-3V5a3 3 0 00-6 0v6a3 3 0 003 3zm5-3a5 5 0 01-10 0H6a7 7 0 0014 0h-1zm-5 7a7.001 7.001 0 01-6-3.35V18a1 1 0 001 1h10a1 1 0 001-1v-1.35A7.001 7.001 0 0112 18z"/>
                    </svg>
                </button>
                <button
                    id="sendMessage"
                    class="ml-2 px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300"
                    onclick="sendMessage()"
                >
                    Kirim
                </button>
            </div>
        
            <!-- Summary Button -->
            <div class="flex justify-end mb-4 hidden" id="summarySectionBtn">
                <button
                    id="summaryButton"
                    class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600"
                    onclick="showSummary()"
                >
                    Selesai
                </button>
            </div>
        
            <!-- Summary Section -->
            <div id="summarySection" class="hidden mt-4 p-4 bg-gray-100 rounded-lg shadow">
                <h3 class="font-semibold mb-2">Summary:</h3>
                <div id="summaryContent"></div>
            </div>
        
        </div>
    </div>

    <div id="antreanModal" class="modal">
        <div class="modal-overlay" onclick="hideModal('antreanModal')"></div>
        
        <div class="modal-content">
            
            <div style="text-align: center; margin-bottom: 20px;">
                <h4 style="font-size: 1.1em; font-weight: bold; color: #00BCD4;">Pilih Jenis Antrean</h4>
            </div>
            
            <div class="antrean-option option-faskes-1"
                 onclick="selectAntrean('Faskes Tingkat Pertama')">
                <div style="display: flex; align-items: center;">
                    <i class="fas fa-stethoscope"></i>
                    <span class="option-text">Faskes Tingkat Pertama</span>
                </div>
                <i class="fas fa-chevron-right" style="color: #ccc;"></i>
            </div>

            <div class="antrean-option option-faskes-2"
                 onclick="selectAntrean('Faskes Rujukan Tingkat Lanjut')">
                <div style="display: flex; align-items: center;">
                    <i class="fas fa-hospital"></i>
                    <span class="option-text">Faskes Rujukan Tingkat Lanjut</span>
                </div>
                <i class="fas fa-chevron-right" style="color: #ccc;"></i>
            </div>

            <div class="antrean-option option-kantor"
                 onclick="selectAntrean('Kantor Cabang')">
                <div style="display: flex; align-items: center;">
                    <i class="fas fa-building"></i>
                    <span class="option-text">Kantor Cabang</span>
                </div>
                <i class="fas fa-chevron-right" style="color: #ccc;"></i>
            </div>

        </div>
    </div>

    <script src="{{ url_for('static', filename='js/home1.js') }}"></script>
</body>
</html>